- [其他公司工作要求](#org2432e98)
- [政务大数据中心资源池](#orgaec4ecc)
- [岗位工作内容](#org1a7c558)
  - [文档](#org6d01197)
    - [体系规划](#orgd509134)
    - [规范标准](#org83ac0d3)
    - [数据需求项目的解决方案](#orgf29972c)
  - [开发](#org6981224)
    - [ETL数据开发](#orgad019b8)
    - [实时流数据处理和云计算技术](#org54dc47c)
    - [OLTP](#org719a6bc)
    - [OLAP](#org60e3598)
    - [业务数据支持](#orgbb71a6c)
- [云计算](#orgf526c88)
  - [Hadoop](#orge0ea09a)
  - [Hive](#orgecc34b0)
  - [Hbase](#org80699c4)
  - [HDFS](#orgbbf73da)
- [数据库操作](#org60b890d)
  - [范式](#org2a8e42d)
  - [存储过程](#orgae25362)
- [数据仓库](#orgc6c568c)
  - [事实表和维度表](#org288634f)
  - [定义与特点](#org3f16cd3)
  - [基本架构](#org8fa8ec0)
    - [数据仓库里的数据](#org457d404)
    - [数据来源](#orge863bf5)
    - [数据存储](#orgd052417)
    - [数据应用](#org66fc8a7)
  - [数据分层](#org5e08843)
    - [意义](#org5d81bee)
    - [数据源](#org4032fe3)
    - [ETL](#orgc599b59)
    - [ODS数据运营层](#org0031bd3)
    - [DWD细节数据层](#org6e5d02b)
    - [DWB基础数据层](#org3bfeda0)
    - [DWM数据中间层](#orge53e091)
    - [DWS数据服务层](#org45d8b16)
    - [ADS数据应用层](#orged37379)
    - [数据应用](#org9b8fe12)
  - [OLTP与OLAP](#org71a1d8e)
    - [多维数据模型](#orgde8a769)
  - [OLAP三种基本实现结构](#org7589431)
    - [ROLAP关系型](#org34040c4)
    - [MOLAP多维型](#org83a27fd)
    - [HOLAP混合型](#org24de1b2)
  - [建模方法](#org0aee60a)
    - [第三范式建模法](#org5462329)
    - [维度建模法](#org24d77b1)
    - [实体建模法](#org0461e2f)
- [数据库建模工具](#org9c199bc)
  - [powerdesigner](#orgbf52f88)
  - [pgModeler](#org35af475)
  - [SQL Power Architect](#org73723ee)
- [SQL](#orge8a9c53)


<a id="org2432e98"></a>

# 其他公司工作要求

-   [「数据治理工程师招聘」<sub>华为技术有限公司招聘</sub>-BOSS直聘](https://www.zhipin.com/job_detail/57d7b334a31e8c5c1XRz09i5E1FR.html?ka=seo-search-word-job0_blank&lid=undefined&securityId=undefined)
-   [腾讯看点数据治理工程师 - 知乎](https://zhuanlan.zhihu.com/p/262569984)


<a id="orgaec4ecc"></a>

# 政务大数据中心资源池

-   [(18条消息) 政务数据里的基础库、主题库、专题库<sub>Leo笑的博客</sub>-CSDN博客<sub>主题库</sub>](https://blog.csdn.net/hgstclyh/article/details/115658615)
-   硬
    -   基础库，主题库（如出行），专题库（如某事件，活动）的建设
        -   表现形式上以sql库为主，其实都是数据库表按一定规则组织到一起。
        -   都是数据仓库. 建模
    -   质量管理
    -   对各应用系统的数据采集.ETL
-   软
    -   对以上三项工作相关的，规章制度，工作流程，管理方案的制定


<a id="org1a7c558"></a>

# 岗位工作内容


<a id="org6d01197"></a>

## 文档


<a id="orgd509134"></a>

### 体系规划


<a id="org83ac0d3"></a>

### 规范标准


<a id="orgf29972c"></a>

### 数据需求项目的解决方案


<a id="org6981224"></a>

## 开发


<a id="orgad019b8"></a>

### ETL数据开发

-   目的是整合企业中分散、零乱、标准不统一的数据
-   负责分布的、异构数据源中的数据，抽取到临时中间层进行清洗，转换，集成，最后加载到数据仓库或数据集市
-   工作在临时中间层，承前启后的重要一环，使用ETL工具
-   工作面临的问题
    -   数据来源于不同主机，SQL语句吃力
    -   统一格式，代码吃力
    -   处理数据，存储过程吃力
-   ETL工具优点
    -   支持多种异构数据源连接
    -   图形化界面操作方便
    -   海量数据处理速度快，流程清洗

1.  ETL工具

    -   kettle非实时
    -   informatica实时，但是基于时间戳

2.  项目经验

    -   生产库到数据仓库的多表同步，kettle可以用一个程序搞定，informatica工具批量设计，但还是需要生成多个程序进行一一配置
    -   增量表，每次运行后需要把最新一条数据的操作时间存到数据库中，下次运行就读取大于该时间的数据。
        -   kettle有控件可以时间保存为变量
        -   informatica读取时间到文件，再以文件为参数文件


<a id="org54dc47c"></a>

### 实时流数据处理和云计算技术


<a id="org719a6bc"></a>

### OLTP


<a id="org60e3598"></a>

### OLAP


<a id="orgbb71a6c"></a>

### 业务数据支持


<a id="orgf526c88"></a>

# 云计算


<a id="orge0ea09a"></a>

## Hadoop


<a id="orgecc34b0"></a>

## Hive


<a id="org80699c4"></a>

## Hbase


<a id="orgbbf73da"></a>

## HDFS


<a id="org60b890d"></a>

# 数据库操作


<a id="org2a8e42d"></a>

## 范式

-   [(18条消息) 数据库（第一范式，第二范式，第三范式）<sub>拾毅者的博客</sub>-CSDN博客<sub>范式</sub>](https://blog.csdn.net/Dream_angel_Z/article/details/45175621)


<a id="orgae25362"></a>

## 存储过程

-   [存储过程这一篇就够了 - 知乎](https://zhuanlan.zhihu.com/p/137896709)
-   降低业务系统与数据库的交互


<a id="orgc6c568c"></a>

# 数据仓库


<a id="org288634f"></a>

## 事实表和维度表

-   [事实表与维度表 - 知乎](https://zhuanlan.zhihu.com/p/145224432)
-   事实表：表格里存储了能体现实际数据或详细数值，一般由维度编码和事实数据组成
-   维度表：表格里存放了具有独立属性和层次结构的数据，一般由维度编码和对应的维度说明(标签)
-   一个数据（或度量？主题？），可以属于不同维度，在不同维度上根据层次结构进行汇总统计(聚合)
-   事实表是指存储有事实记录的表，比如系统日志、销售记录等。事实表的记录在不断地增长，比如电商的商品订单表，就是类似的情况，所以事实表的体积通常是远大于其他表。
-   维表，有时也称查找表（Lookup Table），是与事实表相对应的一种表；它保存了维度的属性值，可以跟事实表做关联，相当于将事实表上经常重复出现的属性抽取、规范出来用一张表进行管理。
-   高基数维度数据：一般是用户资料表、商品资料表类似的资料表，数据量可能是千万级或者上亿级别。
-   低基数维度数据：一般是配置表，比如枚举字段对应的中文含义，或者日期维表等；数据量可能就是个位数或者几千几万。
-   常见的维度表有：日期表（存储与日期对应的周、月、季度等的属性）、地点表（包含国家、省／州、城市等属性）等。


<a id="org3f16cd3"></a>

## 定义与特点

-   应用场景：面向决策和分析的数据处理。而数据库是面向生产业务的。
-   构成：数据仓库就是对不同应用系统中的多个异构数据源的有效集成。里面的数据按照主题进行重组，还包含历史数据，存放在数据仓库里的内容一般不会更新。
-   特点：面向主题的，集成的，相对稳定的，反映历史变化的
-   数据仓库本身既不生产数据也不消费数据，只是作为一个中间平台集成化地存储数据；
-   数据仓库实现的难度：在于整体架构的构建及ETL的设计
-   价值意义：数据应用


<a id="org8fa8ec0"></a>

## 基本架构


<a id="org457d404"></a>

### 数据仓库里的数据

-   细节数据
-   聚合数据
-   多维数据
-   分析数据


<a id="orge863bf5"></a>

### 数据来源

-   [数据仓库的源数据类型 | 网站数据分析](http://webdataanalysis.net/web-data-warehouse/data-warehouse-source-data/)
-   对于网站数据仓库而言，点击流日志是一块主要的数据来源，它是网站分析的基础数据；


<a id="orgd052417"></a>

### 数据存储

-   数据仓库并不需要储存所有的原始数据，但数据仓库需要储存细节数据，并且导入的数据必须经过整理和转换使其面向主题。
-   知道用户的省份、城市足够，至于用户究竟住哪里可能只是物流商关心的事
-   细节数据是必需的，因为数据仓库的分析需求会时刻变化
-   面向主题是数据仓库的第一特性
-   整理成面向主题的组织形式才是真正地利于分析
    -   点击流日志整理成页面（Page）、访问（Visit或Session）、用户（Visitor）三个主题

1.  数据的聚合

    这里的聚合数据指的是基于特定需求的简单聚合（基于多维数据的聚合体现在多维数据模型中），简单聚合可以是网站的总Pageviews、Visits、Unique Visitors等汇总数据，也可以是Avg. time on page、Avg. time on site等平均数据，这些数据可以直接地展示于报表上。

2.  多维数据模型

    -   提供了多角度多层次的分析应用，比如基于时间维、地域维等构建的销售星形模型、雪花模型，可以实现在各时间维度和地域维度的交叉查询，以及基于时间维和地域维的细分。
    -   所以多维数据模型的应用一般都是基于联机分析处理（Online Analytical Process, OLAP）的，而面向特定需求群体的数据集市也会基于多维数据模型进行构建。

3.  业务模型

    基于某些数据分析和决策支持而建立起来的数据模型，比如我之前介绍过的用户评价模型、关联推荐模型、RFM分析模型等，或者是决策支持的线性规划模型、库存模型等；同时，数据挖掘中前期数据的处理也可以在这里完成。


<a id="org66fc8a7"></a>

### 数据应用

-   [数据仓库的价值 | 网站数据分析](http://webdataanalysis.net/web-data-warehouse/value-of-data-warehouse/)

1.  报表展示

    -   将聚合数据和多维分析数据展示到报表，提供了最为简单和直观的数据
    -   理论上将数据仓库中的所有数据都开放即席查询，用户可以根据自己需要查询获取数据，并提供导出到外部Excel的功能
    
    1.  即席查询（Ad Hoc）
    
        -   即席：当场。即席查询，当场去查询
        -   用户根据自己的需求，灵活选择查询条件，系统根据用户选择，生成相应的统计报表。
        -   与普通应用查询的区别：普通应用查询是定制开发的，即席查询是用户自定义查询条件的，临时产生的
            -   普通查询可以通过建立索引、分区等技术来优化这些查询，使这些查询的效率很高。
            -   即席查询是用户在使用时临时生产的，是一种松散类型的命令/查询，其值取决于某个变量，每次执行命令时，结果都不同，这取决于变量的值。
        -   [数据库必知词汇：即席查询(Ad Hoc)-阿里云开发者社区](https://developer.aliyun.com/article/745881)

2.  数据分析

3.  数据挖掘

4.  元数据管理

    -   元数据：解释性数据，用于记录数据仓库中模型的定义，各层级间的映射关系；监控数据仓库的数据状态及ETL的任务运行状态
    -   元数据资料库：统一存储和管理元数据
    -   目的：使数据仓库的设计、部署、操作和管理达成协同与一致


<a id="org5e08843"></a>

## 数据分层

-   [详解数仓中的数据分层：ODS、DWD、DWM、DWS、ADS - 掘金](https://juejin.cn/post/6969874734355841031)


<a id="org5d81bee"></a>

### 意义

-   清晰数据结构：每一个数据分层都有它的作用域和职责，在使用表的时候能更方便地定位和理解
-   减少重复开发：规范数据分层，开发一些通用的中间层数据，能够减少极大的重复计算
-   统一数据口径：通过数据分层，提供统一的数据出口，统一对外输出的数据口径
-   复杂问题简单化：将一个复杂的任务分解成多个步骤来完成，每一层解决特定的问题


<a id="org4032fe3"></a>

### 数据源

-   操作数据库
-   ERP
-   External Source


<a id="orgc599b59"></a>

### ETL

1.  数据运营层

    -   ETL之后装入
    -   ODS Operational Data Store
    -   本层的数据，总体上大多是按照源头业务系统的分类方式而分类的


<a id="org0031bd3"></a>

### ODS数据运营层

-   ODS Operational Data Store
-   数据准备区
-   ETL之后装入本层。
-   本层的数据，总体上大多是按照源头业务系统的分类方式而分类的


<a id="org6e5d02b"></a>

### DWD细节数据层

也称为ODS业务层和数据仓库的隔离层


<a id="org3bfeda0"></a>

### DWB基础数据层

数据细节层：data warehouse details，DWD 该层是业务层和数据仓库的隔离层，保持和ODS层一样的数据颗粒度；主要是对ODS数据层做一些数据的清洗和规范化的操作，比如去除空数据、脏数据、离群值等。 为了提高数据明细层的易用性，该层通常会才采用一些维度退化方法，将维度退化至事实表中，减少事实表和维表的关联。

-   存储客观数据，一般用作中间层
-   （可以帮DWM完成）在DWD的数据基础上，对数据做轻度的聚合操作，生成一系列的中间表，提升公共指标的复用性，减少重复加工


<a id="orge53e091"></a>

### DWM数据中间层

数据中间层：Data Warehouse Middle，DWM； 该层是在DWD层的数据基础上，对数据做一些轻微的聚合操作，生成一些列的中间结果表，提升公共指标的复用性，减少重复加工的工作。 简答来说，对通用的核心维度进行聚合操作，算出相应的统计指标


<a id="org45d8b16"></a>

### DWS数据服务层

-   该层的数据表会相对比较少，一张表会涵盖比较多的业务内容
-   由于其字段较多，因此一般也会称该层的表为宽表
-   基于DWB上的基础数据、整合汇总某一主题，又称为数据集市或宽表
-   按照业务划分，如流量、订单、用户等，生成字段比较多的宽表
-   用于提供后续业务查询，OLAP分析，数据分发


<a id="orged37379"></a>

### ADS数据应用层

数据应用层：Application Data Service，ADS；

-   该层主要是提供给数据产品和数据分析使用的数据
-   一般会存放在ES、Redis、PostgreSql等系统中供线上系统使用
-   也可能存放在hive或者Druid中，供数据分析和数据挖掘使用，比如常用的数据报表就是存在这里的。


<a id="org9b8fe12"></a>

### 数据应用

-   OLAP前端
-   Web
-   APP


<a id="org71a1d8e"></a>

## OLTP与OLAP

-   目的：为了操作数据；为了分析数据
-   数据库操作：增删改；查
-   优化方式：主码索引和散列；多维视图的操作
-   用途：存储当前交易数据；存储历史数据
-   面向：事务处理；面向主题
-   数据来源：日常业务；数据库或文件
-   设计：三范式（利于插入）；星型（利于查询）


<a id="orgde8a769"></a>

### 多维数据模型

-   数据立方体
-   维：属性集合构成一个维度：时间维，空间维
-   维的层次：维的粒度。例如时间维：日期，月份，季度，年
-   维的成员：维的取值，数据项在某维中位置的描述。（2022年4月1日是在日期维上位置的描述）
-   度量：多维数组的一个取值。

1.  多维分析的操作

    -   [数据仓库与数据挖掘-多维数据操作 - 云+社区 - 腾讯云](https://cloud.tencent.com/developer/article/1558188)
    -   钻取：改变维的层次，变换分析的粒度。
        -   向上钻取/上卷：抽象，减少维数。确诊，无症状，境外，本土->感染
            -   (例如，从周到季度，再到年度)。
        -   向下钻取：具体化。如时间更具体
    -   切片：一部分维度上选定值，度量数据在剩余维上的分布，剩余维只有两个，一片就是二维
        -   在某两个维上取一定区间的维成员或全部维成员，而在其余的维上选定一个维成员的操作。
    -   切块：剩余维有三个或以上
    -   旋转：改变展示方向，对应SQL语句里，就是改变SELECT后面字段的顺序。

2.  广义的功能

    -   广义上，任何能够有助于辅助用户理解数据的技术或者操作都可以作为OLAP功能
    -   基本代理操作
        -   当系统处于某种特殊状态时提醒分析员
            -   示警报告：定义一些条件，一旦条件满足，系统会提醒分析员去做分析。如每日报告完成或月订货完成等通知分析员作分析。
            -   时间报告：按日历和时钟提醒分析员。
            -   异常报告：当超出边界条件时提醒分析员。如销售情况已超出预定义阈值的上限或下限时提醒分析员。
    -   计算能力
    -   模型计算
        -   增加系统优化，统计分析，趋势分析等模型，以提高决策分析能力

3.  优缺点

    1.  优点
    
        -   基于分析优化的数据组织和存储模式
        -   电子商务网站的操作数据库中记录的可能是某个时间点，某个用户购买了某个商品，并寄送到某个具体的地址的这种记录的集合，于是我们无法马上获取2010年的7月份到底有多少用户购买了商品，或者2010年的7月份有多少的浙江省用户购买了商品？
        
        但是在基于多维模型的基础上，此类查询就变得简单了，只要在时间维上将数据聚合到2010年的7月份，同时在地域维上将数据聚合到浙江省的粒度就可以实现，这个就是OLAP的概念。
    
    2.  缺点
    
        -   多维模型的缺点就是与关系模型相比其灵活性不够，一旦模型构建就很难进行更改。
        -   订单的事实（事实表）
            -   维度编码：时间、用户维
            -   事实数据：商品数量、总价等度量（主题）
        -   新需求：区分订单中包含了哪些商品
            -   解决方法
                -   关系模型：只需要另外再建一张表记录订单号和商品的对应关系即可
                -   多维模型：无法再建一个新的维度，产品维，只能再建一个以产品为主题的事实
        -   根据需求首先详细的设计模型，应该包含哪些维和度量，应该让数据保持在哪个粒度上才能满足用户的分析需求


<a id="org7589431"></a>

## OLAP三种基本实现结构


<a id="org34040c4"></a>

### ROLAP关系型

-   将分析用的多维数据存储在关系数据库中
-   将应用频率较高的查询作为实视图
-   以关系数据库为核心，以关系型结构进行多维数据的表示和存储。OLAP中间件实现其余的服务，这种技术有很大的伸缩性，但是关联操作使得响应效率降低。
-   由于ROLAP是用关系表来模拟多维数据的，因此其存取较MOLAP复杂。

1.  RDBMS针对OLAP的优化

    -   并行存储
    -   并行查询
    -   并行数据管理
    -   基于成本的查询优化
    -   位图索引
    -   SQL的OLAP扩展（cube，rollup）


<a id="org83a27fd"></a>

### MOLAP多维型

-   将用到的多维数据物理上存储为多维数组的形式
-   通过基于数组的多维存储引擎，将数据映射到数据立方体数组结构中，实现数据的多维视图。这种技术的优点是数据的快速索引，缺点是数据集是稀疏的，存储利用率低。


<a id="org24de1b2"></a>

### HOLAP混合型

将ROLAP的较大可伸缩性和MOLAP的快速计算紧密结合，实现数据的有效存储和快速检索。


<a id="org0aee60a"></a>

## 建模方法


<a id="org5462329"></a>

### 第三范式建模法


<a id="org24d77b1"></a>

### 维度建模法

-   按照事实表和维表来构建数据仓库
-   [星型模型（Star-schema）](https://img-blog.csdnimg.cn/20190406231013304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1cnJhc3M=,size_16,color_FFFFFF,t_70)
    -   擅长：OLTP->DW
    -   星型模式之所以广泛被使用，在于针对各个维作了大量的预处理，如按照维进行预先的统计、分类、排序等。
    -   维度建模的领域主要适用于数据集市层，它的最大的作用其实是为了解决数据仓库建模中的性能问题。
-   特别是针对 3NF 的建模方法，星型模式在性能上占据明显的优势。
-   [雪花模型](https://pic3.zhimg.com/80/v2-fcb612793eadb680a5f35b8f23b9ff7a_720w.jpg)：当有一个或多个维表没有直接连接到事实表上，而是通过其他维表连接到事实表上
    -   擅长：DW->OLAP环节
-   维度建模很难能够提供一个完整地描述真实业务实体之间的复杂关系的抽象方法。

1.  星型和雪花型对比

    | 对比内容 | 星型      | 雪花型    |
    |----- |--------- |--------- |
    | 模型复杂度 | 0         | 1         |
    | 层次结构 |           | 贴近OLTP  |
    | 存储角度 | 产生冗余数据 | 不会产生冗余 |
    | 擅长  | DW-OLAP环节 | OLTP-DW环节 |


<a id="org0461e2f"></a>

### 实体建模法

-   事实：小明开车去上学
-   实体：小明，学校
-   事件：上学
-   说明：开车去
-   由于实体说明法只是一种抽象客观世界的方法，因此，注定了该建模方法只能局限在业务建模和领域概念建模阶段。


<a id="org9c199bc"></a>

# 数据库建模工具

-   [盘点丨12款数据库建模工具特点，总有一款适合你！<sub>ITPUB博客</sub>](http://blog.itpub.net/31556440/viewspace-2657784/)


<a id="orgbf52f88"></a>

## powerdesigner


<a id="org35af475"></a>

## pgModeler


<a id="org73723ee"></a>

## SQL Power Architect


<a id="orge8a9c53"></a>

# SQL